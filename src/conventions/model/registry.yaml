# OpenTelemetry Weaver Registry
# Custom attributes and metrics for the OpenTelemetry Demo Application

groups:
  - id: registry.ads
    type: attribute_group
    brief: Ad Service Attributes
    stability: development
    attributes:
      - id: app.ads.count
        type: int
        stability: development
        brief: Number of ads being served
        examples: [2]
      
      - id: app.ads.contextKeys
        type: string
        stability: development
        brief: List of context keys provided in ad request
        examples: ["[electronics, sports]"]
      
      - id: app.ads.contextKeys.count
        type: int
        stability: development
        brief: Count of context keys in the request
        examples: [2]
      
      - id: app.ads.ad_request_type
        type: string
        stability: development
        brief: Type of ad request (TARGETED or UNKNOWN)
        examples: ["TARGETED", "UNKNOWN"]
      
      - id: app.ads.ad_response_type
        type: string
        stability: development
        brief: Type of ad response (TARGETED or RANDOM)
        examples: ["TARGETED", "RANDOM"]
      
      - id: app.ads.category
        type: string
        stability: development
        brief: Category of ads being retrieved
        examples: ["electronics", "sports"]

  - id: registry.payment
    type: attribute_group
    brief: Payment Service Attributes
    stability: development
    attributes:
      - id: app.payment.card_type
        type: string
        stability: development
        brief: Type of credit card used
        examples: ["visa", "mastercard"]
      
      - id: app.payment.card_valid
        type: boolean
        stability: development
        brief: Whether the credit card is valid
        examples: [true, false]
      
      - id: app.loyalty.level
        type: string
        stability: development
        brief: Customer loyalty level
        examples: ["platinum", "gold", "silver", "bronze"]
      
      - id: app.payment.charged
        type: boolean
        stability: development
        brief: Whether the payment was actually charged
        examples: [true, false]

  - id: app.payment.transactions
    type: metric
    brief: Payment Transactions Counter
    stability: development
    metric_name: app.payment.transactions
    instrument: counter
    unit: "1"

  - id: app.currency
    type: attribute_group
    brief: Currency Service Attributes
    stability: development
    attributes:
      - id: app.currency.conversion.from
        type: string
        stability: development
        brief: Source currency code
        examples: ["USD", "EUR", "GBP"]
      
      - id: app.currency.conversion.to
        type: string
        stability: development
        brief: Target currency code
        examples: ["USD", "EUR", "GBP"]

  - id: registry.shipping
    type: attribute_group
    brief: Shipping Service Attributes
    stability: development
    attributes:
      - id: app.shipping.zip_code
        type: string
        stability: development
        brief: Zip code from shipping address
        examples: ["90210", "10001"]
      
      - id: app.shipping.tracking.id
        type: string
        stability: development
        brief: Tracking ID for the shipment
        examples: ["TRK-123456789"]
      
      - id: app.shipping.items.count
        type: int
        stability: development
        brief: Number of items being shipped
        examples: [5]
      
      - id: app.shipping.cost.total
        type: string
        stability: development
        brief: Total shipping cost
        examples: ["25.50"]

  - id: registry.checkout
    type: attribute_group
    brief: Checkout Service Attributes
    stability: development
    attributes:
      - id: app.user.id
        type: string
        stability: development
        brief: User ID
        examples: ["user-123"]
      
      - id: app.user.currency
        type: string
        stability: development
        brief: User's preferred currency
        examples: ["USD", "EUR"]
      
      - id: app.user.city
        type: string
        stability: development
        brief: User's city from address
        examples: ["San Francisco", "New York"]
      
      - id: app.order.id
        type: string
        stability: development
        brief: Order ID
        examples: ["order-456"]
      
      - id: app.order.amount
        type: double
        stability: development
        brief: Total order amount
        examples: [99.99]
      
      - id: app.order.items.count
        type: int
        stability: development
        brief: Number of items in order
        examples: [3]
      
      - id: app.cart.items.count
        type: int
        stability: development
        brief: Number of items in cart
        examples: [5]
      
      - id: app.shipping.amount
        type: double
        stability: development
        brief: Shipping cost amount
        examples: [15.99]

  - id: messaging.kafka.producer
    type: attribute_group
    brief: Kafka Producer Attributes
    stability: development
    attributes:
      - id: messaging.kafka.producer.success
        type: boolean
        stability: development
        brief: Whether Kafka message was successfully produced
        examples: [true, false]
      
      - id: messaging.kafka.producer.duration_ms
        type: int
        stability: development
        brief: Duration of Kafka producer operation in milliseconds
        examples: [150]

  - id: registry.product
    type: attribute_group
    brief: Product Catalog Service Attributes
    stability: development
    attributes:
      - id: app.product.id
        type: string
        stability: development
        brief: Product ID
        examples: ["OLJCESPC7Z"]
      
      - id: app.product.name
        type: string
        stability: development
        brief: Product name
        examples: ["Vintage Typewriter"]
      
      - id: app.products.count
        type: int
        stability: development
        brief: Total number of products in catalog
        examples: [10]
      
      - id: app.products_search.count
        type: int
        stability: development
        brief: Number of products matching search query
        examples: [3]

  - id: registry.quote
    type: attribute_group
    brief: Quote Service Attributes
    stability: development
    attributes:
      - id: app.quote.items.count
        type: int
        stability: development
        brief: Number of items in quote
        examples: [5]
      
      - id: app.quote.cost.total
        type: double
        stability: development
        brief: Total quote cost
        examples: [49.99]

  - id: quotes
    type: metric
    brief: Quotes Counter
    stability: development
    metric_name: quotes
    instrument: counter
    unit: "quotes"

  - id: registry.recommendation
    type: attribute_group
    brief: Recommendation Service Attributes
    stability: development
    attributes:
      - id: app.products_recommended.count
        type: int
        stability: development
        brief: Number of products recommended
        examples: [5]
      
      - id: app.recommendation.cache_enabled
        type: boolean
        stability: development
        brief: Whether recommendation cache is enabled
        examples: [true, false]
      
      - id: app.cache_hit
        type: boolean
        stability: development
        brief: Whether cache hit occurred
        examples: [true, false]
      
      - id: app.recommendation.products.count
        type: int
        stability: development
        brief: Total number of products available for recommendation
        examples: [10]
      
      - id: app.filtered_products.count
        type: int
        stability: development
        brief: Number of products after filtering
        examples: [8]
      
      - id: app.filtered_products.list
        type: string
        stability: development
        brief: List of filtered product IDs
        examples: ["[OLJCESPC7Z, 66VCHSJNUP]"]

  - id: app_recommendations_counter
    type: metric
    brief: Recommendations Counter
    stability: development
    metric_name: app.recommendations
    instrument: counter
    unit: "recommendations"

  - id: registry.email
    type: attribute_group
    brief: Email Service Attributes
    stability: development
    attributes:
      - id: app.email.recipient
        type: string
        stability: development
        brief: Email recipient address
        examples: ["customer@example.com"]
      
      - id: app.email.order.id
        type: string
        stability: development
        brief: Order ID for email confirmation
        examples: ["order-789"]

  - id: registry.frontend
    type: attribute_group
    brief: Frontend Service Attributes
    stability: development
    attributes:
      - id: session.id
        type: string
        stability: development
        brief: Session ID for user
        examples: ["sess-abc123"]
      
      - id: app.synthetic_request
        type: boolean
        stability: development
        brief: Whether request is synthetic/test traffic
        examples: [true, false]
      
      - id: app.request.method
        type: string
        stability: development
        brief: HTTP request method
        examples: ["GET", "POST"]
      
      - id: app.request.target
        type: string
        stability: development
        brief: HTTP request target/path
        examples: ["/api/products"]
      
      - id: app.request.user_agent
        type: string
        stability: development
        brief: User agent string
        examples: ["Mozilla/5.0..."]
      
      - id: app.response.status_code
        type: int
        stability: development
        brief: HTTP response status code
        examples: [200, 404, 500]
      
      - id: app.response.duration_ms
        type: int
        stability: development
        brief: Response duration in milliseconds
        examples: [150]

  - id: app.frontend.requests
    type: metric
    brief: Frontend Requests Counter
    stability: development
    metric_name: app.frontend.requests
    instrument: counter
    unit: "1"
